# 工业机器视觉系统构成与开发过程

### 1、系统构成

​	工业环境下，机器视觉系统通常包含：`光源`、`光学传感器`、`图像采集设备`、`图像处理设备`、`机器视觉软件`、`辅助传感器`、`控制单元` 和 `执行机构` 等，这些软、硬件联动共同完成机器视觉系统承担的任务。典型工业视觉系统结构如下图所示：<img src=".\imag\image-20230722160852078.png" alt="image-20230722160852078" style="zoom:50%;" />

- 光源是机器视觉系统的重要组成部分，它作为辅助成像设备，为机器视觉系统的图像获取==提供足够的光线==，光源的设计和选取往往直接决定机器视觉系统设计的成败。

- 光学传感器（如CCD摄像机）: ==将外部场景转换为电信号==。

- 图像采集设备（如图像采集卡)：光学传感器的信号 `----->` 一定格式的图像数据流，传送给图像处理设备。

- 图像处理设备（如PC或其他嵌入式硬件设备）: 运行有机器视觉软件，可以对图像数据进行分析、处理并发送控制指令。

- 控制指令经由数字I/O卡发送给控制单元（如PLC)后，由控制单元综合辅助传感器传回的信息，控制执行机构做出相应的动作。

  > 例如，PCB分拣机器视觉系统，在充足光源的照射下，CCD摄像机将生产线上的PCB图像转换为电信号，并经由插在PC中的图像采集卡将其转换为数字图像。计算机中的机器视觉软件可以对采集到的图像进行分析、处理以检查PCB是否符合质量要求。如果发现PCB中缺少元件，则经过数字IO卡向PLC发出一个信号，通知它控制机械手拿出该PCB。此时PLC会综合辅助定位传感器，检查PCB的位置，控制机械手准确地抓取有质量缺陷的PCB，从而达到分拣的目的。

### 2、开发过程

#### 阶段

​	需求分析以及系统设计后的软、硬件选型、软件开发、测试与验证、系统集成验收以及最终的试运行几个主要阶段

<img src=".\imag\image-20230722164248742.png" alt="image-20230722164248742" style="zoom: 67%;" />

- 软、硬件选型阶段，开发人员将对用户的需求进行细化，并分析各个子系统的详细需求，然后根据详细需求中的各种指标，确定构建机器视觉系统所需的软硬件。如果项目工期比较紧张，或者在项目初期用户的需求还不能完全确定，则可以先与用户确定采购周期较长的软硬件相关功能需求和指标，以便尽早开展采购工作。
- 搭建机器视觉软件开发平台阶段，通常先在实验室将关键硬件连接在一起，构建一套系统的原型机，并在PC上安装机器视觉软件开发包，开发并验证各种算法。
- 软件开发完成后，还需要在现场对其进行实地测试。当然在这之前需要在现场按照设计安装搭建最终的机器视觉硬件系统，此后进行整个系统的集成测试，验证系统的功能是否完善，实时性、可用性等性能是否达标，并在客户验收后进入系统的试运行。值得一提的是，无论在原型机还是最终的硬件系统的搭建过程中，都需要根据系统的成像情况，对出现的畸变和投影误差等进行多次校正。

#### 机器视觉软件

​	==机器视觉软件直接决定机器视觉系统的功能和性能==，它是整个机器视觉系统中最为重要的部分。机器视觉软件通常由 “`图像操作与增强`"、"`图像分割与分析`" 以及 “`特征识别与机器决策`" 等主要部分组成。

##### 	1.图像操作与增强

​	用于对采集到的图像进行初步分析、变换和预处理，以便后续快速分析并提取目标特征，如对图像进行`几何变换`、`时域滤波`、`频域滤波操作`等。

##### 	2.图像分割与分析

​	用于对预处理后的图像进行 `形态学处理或分割`，以便提取机器视觉系统需要识别或检测目标的特征。

##### 	3.特征识别与机器决策

​	基于各种目标的特征进行最终测量、计算或对目标进行分类。
由于机器视觉软件的最终目的是通过对采集到的图像进行预处理、分析、特征提取后做出决策，因此，机器视觉系统往往还包括基于机器视觉软件运行结果，控制外部机械手臂或其他执行机构动作的指令模块，并以机器视觉软件为核心，构成一套完整的自动控制系统。

[不脱发的程序猿]: https://blog.csdn.net/m0_38106923/article/details/115557301

